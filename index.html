<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Invoice</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
body{
  background:#eee;
  padding:20px;
  font-family:'Inter', Arial, sans-serif;
}

/* A4 canvas in points */
.invoice-canvas{
  position:relative;
  width:595pt;
  height:842pt;
  background:#fff;
  margin:auto;
}

/* Common text */
.text{ font-size:10.5pt; line-height:14pt; }
.bold{ font-weight:600; }

/* Header */
.title{
  position:absolute;
  top:40pt;
  left:40pt;
  font-size:20pt;
  font-weight:600;
}

.logo{
  position:absolute;
  top:38pt;
  right:40pt;
  height:40pt;
}

/* Bill To */
.billto{
  position:absolute;
  top:90pt;
  left:40pt;
}

/* Invoice meta */
.meta{
  position:absolute;
  top:90pt;
  right:40pt;
  text-align:right;
}

/* Project / Subject */
.project{
  position:absolute;
  top:155pt;
  left:40pt;
}

/* Items table */
.items{
  position:absolute;
  top:195pt;
  left:40pt;
  width:515pt;
  border-collapse:collapse;
  font-size:10.5pt;
}

.items th{
  border-bottom:1px solid #000;
  padding-bottom:6pt;
  text-align:right;
  font-weight:500;
}

.items th:first-child,
.items td:first-child{
  text-align:left;
}

.items td{
  padding:8pt 0;
  border-bottom:1px solid #d0d0d0;
}

/* Inputs */
input{
  border:none;
  background:transparent;
  font-family:inherit;
  font-size:10.5pt;
  width:100%;
  text-align:right;
}

.desc{ text-align:left; }

/* Add button */
.add-btn{
  cursor:pointer;
  font-weight:600;
  margin-left:6pt;
}

/* Totals */
.totals{
  position:absolute;
  top:340pt;
  right:40pt;
  width:200pt;
  font-size:10.5pt;
}

.totals div{
  display:flex;
  justify-content:space-between;
  margin-bottom:6pt;
}

/* Amount in words */
.words{
  position:absolute;
  top:400pt;
  left:40pt;
  font-size:10.5pt;
  font-weight:500;
}

/* Bank */
.bank{
  position:absolute;
  bottom:60pt;
  left:40pt;
  font-size:10pt;
  line-height:14pt;
}

/* Actions */
.actions{
  text-align:center;
  margin-top:20px;
}

@media print{
  body{ background:#fff; padding:0; }
  .actions, .add-btn{ display:none !important; }
}
</style>
</head>

<body>

<div class="invoice-canvas" id="invoice">

<div class="title">INVOICE</div>
<img src="logo.png" class="logo">

<div class="billto text">
  <span class="bold">Bill To :</span><br>
  Thefseer Abdul Sathar<br>
  Dubai U.A.E<br>
  971567169979<br>
  thefseernk@gmail.com
</div>

<div class="meta text">
  Invoice No : TEF-INV-2026-01-001<br>
  Invoice Date : 2026-01-30<br>
  Due Date : 2026-02-06
</div>

<div class="project text">
  <span class="bold">Project :</span> Mubadala<br>
  <span class="bold">Subject :</span> Reception Light Feature
</div>

<table class="items" id="items">
<thead>
<tr>
  <th>
    # Item & Description
    <span class="add-btn" onclick="addRow()">+</span>
  </th>
  <th>Qty</th>
  <th>Rate</th>
  <th>Amount</th>
</tr>
</thead>
<tbody>
<tr>
  <td><input class="desc" value="Charges for Light Feature Visual"></td>
  <td><input type="number" value="3" oninput="calc()"></td>
  <td><input type="number" value="500" oninput="calc()"></td>
  <td class="amount">1,500.00</td>
</tr>
</tbody>
</table>

<div class="totals text">
  <div><span class="bold">Total</span><span id="total">1,500.00</span></div>
  <div><span>Paid</span><input type="number" value="0" oninput="calc()" style="width:80pt;text-align:right"></div>
  <div class="bold"><span>Balance Due</span><span id="balance">د.إ. 1,500.00</span></div>
</div>

<div class="words" id="words">
One Thousand Five Hundred AED Only
</div>

<div class="bank">
  <span class="bold">Bank Details :</span><br>
  Name: Thefseer Nalam Kuttiyil<br>
  Account No: 0215085399101<br>
  IBAN: AE410260000215085399101<br>
  Bank Name: Emirates NBD<br>
  Account Type: Savings Account
</div>

</div>

<div class="actions">
  <button onclick="generatePDF()">Generate PDF (A4)</button>
</div>

<script>
function calc(){
  let total=0;
  document.querySelectorAll("#items tbody tr").forEach(r=>{
    let q=+r.children[1].children[0].value||0;
    let rate=+r.children[2].children[0].value||0;
    let amt=q*rate;
    r.querySelector(".amount").innerText=
      amt.toLocaleString(undefined,{minimumFractionDigits:2});
    total+=amt;
  });
  let paid=document.querySelector(".totals input").value||0;
  let bal=total-paid;

  document.getElementById("total").innerText=
    total.toLocaleString(undefined,{minimumFractionDigits:2});
  document.getElementById("balance").innerText=
    "د.إ. "+bal.toLocaleString(undefined,{minimumFractionDigits:2});
  document.getElementById("words").innerText=
    numberToWords(bal)+" AED Only";
}

function addRow(){
  let tr=document.createElement("tr");
  tr.innerHTML=`
  <td><input class="desc"></td>
  <td><input type="number" value="1" oninput="calc()"></td>
  <td><input type="number" value="0" oninput="calc()"></td>
  <td class="amount">0.00</td>`;
  document.querySelector("#items tbody").appendChild(tr);
}

function numberToWords(n){
  const a=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten",
  "Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];
  const b=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];
  if(n===0)return"Zero";
  if(n<20)return a[n];
  if(n<100)return b[Math.floor(n/10)]+" "+a[n%10];
  if(n<1000)return a[Math.floor(n/100)]+" Hundred "+numberToWords(n%100);
  if(n<1000000)return numberToWords(Math.floor(n/1000))+" Thousand "+numberToWords(n%1000);
  return "";
}

async function generatePDF(){
  const {jsPDF}=window.jspdf;
  const pdf=new jsPDF("p","pt","a4");
  const canvas=await html2canvas(document.getElementById("invoice"),{scale:2});
  const img=canvas.toDataURL("image/png");
  pdf.addImage(img,"PNG",0,0,595,canvas.height*595/canvas.width);
  pdf.save("invoice.pdf");
}

calc();
</script>

</body>
</html>